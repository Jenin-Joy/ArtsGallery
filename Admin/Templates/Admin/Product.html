<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product</title>
</head>
<body>
    <center>
        <h2>Product Details</h2>
        <form action="" method="POST" enctype="multipart/form-data" >
            {% csrf_token %}
            <table border="1">
                <tr>
                    <td>Name</td>
                    <td><input type="Name"  name="txtname" placeholder="Enter the Name" title="Name Allows Only Alphabets,Spaces and First Letter Must Be Capital Letter" pattern="^[A-Z]+[a-zA-Z ]*$"  required/></td>
                </tr>

                <tr>
                    <td>Price</td>
                    <td><input type="Name"  name="txtprice" placeholder="Enter the product price"  required/></td>
                </tr>

                <tr>
                    <td>Category</td>
                    <td>
                        <select name="txtcategory" id="category" >
                          <option value="sel">--select--</option>
                          {% for i in category %}
                          <option value="{{i.id}}">{{i.category_name}}</option> 
                          {% endfor %}  
                        </select>	      
                     </td> 
                </tr>

                <tr>
                    <td>Sub Category</td>
                    <td>
                        <select name="subcategory" id="subcategory" >
                          <option value="sel">--select--</option>
                        </select>	      
                     </td> 
                </tr>

                <tr>
                    <td>Details</td>
                    <td><textarea name="txtdetails" rows="2" cols="16" placeholder="Enter the product deatils"   required ></textarea></td>
                </tr>

                <tr>
                    <td>Photo</td>
                    <td><input type="file"  name="txtphoto" required></td>
                 </tr>  

                 <tr>
                    <td colspan="2" align="center">
                       <input type="submit"  name="Submit"  value="Submit">
                   </td>
                </tr>
                </table>
 </form>
</center>
</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $("#category").change(function () {
        var did = $(this).val();
        var ur = "{% url 'Admin:ajaxsubcategory' %}"
        $.ajax({
            url: ur,
            data: { did: did, },
            success: function (data) {
                $("#subcategory").html(data);
            },
        });
    });
</script>